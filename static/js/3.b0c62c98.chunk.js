/*! For license information please see 3.b0c62c98.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-pizza"]=this["webpackJsonpreact-pizza"]||[]).push([[3],{72:function(e,t,r){var i;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var c=typeof i;if("string"===c||"number"===c)e.push(i);else if(Array.isArray(i)){if(i.length){var s=n.apply(null,i);s&&e.push(s)}}else if("object"===c)if(i.toString===Object.prototype.toString)for(var a in i)r.call(i,a)&&i[a]&&e.push(a);else e.push(i.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(i=function(){return n}.apply(t,[]))||(e.exports=i)}()},74:function(e,t,r){"use strict";r.r(t);var i=r(4),n=r(26),c=r(0),s=r.n(c),a=r(25),o=r(10),l=r(72),u=r.n(l),d=r(1),f=function(e){var t=e.items,r=e.currentCategoryId,i=e.setCategory;return Object(d.jsx)("div",{className:"categories",children:Object(d.jsx)("ul",{children:t&&t.map((function(e,t){var n;return t===+r+1&&(n=!0),Object(d.jsx)("li",{onClick:function(){i(t-1)},id:t,className:u()({active:n}),children:e},e+"_"+t)}))})})},j=s.a.memo(f);var p=r(28);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],i=!0,n=!1,c=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(o){n=!0,c=o}finally{try{i||null==a.return||a.return()}finally{if(n)throw c}}return r}}(e,t)||Object(p.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=r(27),m=function(e){var t=e.sizes,r=e.defaultSizes,i=e.onClick,n=e.currentSize;return Object(d.jsx)("ul",{children:r&&r.map((function(e){return Object(d.jsx)("li",{onClick:function(){i(e,t.includes(e))},disabled:!t.includes(e),className:u()({active:n===e,"pizza-block__disabled":!t.includes(e)}),children:e},e)}))})},z=s.a.memo(m),v=function(e){var t=e.types,r=e.onClick,i=(e.active,e.defaultTypes),n=e.currentType,c=["\u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0435","\u0442\u043e\u043d\u043a\u043e\u0435"];return Object(d.jsx)("ul",{children:i&&i.map((function(e,i){return Object(d.jsx)("li",{onClick:function(){r(e,t.includes(e))},disabled:!t.includes(e),className:u()({active:n===e,"pizza-block__disabled":!t.includes(e)}),children:c[e]},e)}))})},y=function(e){var t=e.count,r=e.name,i=e.img,n=e.types,s=e.sizes,a=e.price,o=(e.rating,e.defaultSizes),l=e.defaultTypes,u=e.addPizza,f=e.id,j=b(Object(c.useState)(n[0]),2),p=j[0],m=j[1],y=b(Object(c.useState)(s[0]),2),O=y[0],g=y[1];return Object(d.jsxs)("div",{className:"pizza-block",children:[Object(d.jsx)("img",{className:"pizza-block__image",src:i,alt:"Pizza"}),Object(d.jsx)("h4",{className:"pizza-block__title",children:r}),Object(d.jsxs)("div",{className:"pizza-block__selector",children:[Object(d.jsx)(v,{currentType:p,active:p,types:n,onClick:function(e,t){t&&m(e)},defaultTypes:l}),Object(d.jsx)(z,{currentSize:O,onClick:function(e,t){t&&g(e)},sizes:s,defaultSizes:o})]}),Object(d.jsxs)("div",{className:"pizza-block__bottom",children:[Object(d.jsxs)("div",{className:"pizza-block__price",children:["\u043e\u0442 ",a," \u20bd"]}),Object(d.jsxs)(h.a,{className:"button button--outline button--add",onClick:function(){u(f,p,O,t,r,i,a)},children:[Object(d.jsx)("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsx)("path",{d:"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z",fill:"white"})}),Object(d.jsx)("span",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})]})},O=function(e){var t=e.list,r=e.onClick,i=e.sortType,n=b(Object(c.useState)(!1),2),s=n[0],a=n[1],o=Object(c.useRef)();return Object(c.useEffect)((function(){var e=function(e){!e.path.includes(o.current)&&s&&a(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[o,s]),Object(d.jsxs)("div",{className:"sort",children:[Object(d.jsxs)("div",{className:"sort__label",children:[Object(d.jsx)("svg",{width:10,height:6,viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsx)("path",{d:"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z",fill:"#2C2C2C"})}),Object(d.jsx)("b",{children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e:"}),Object(d.jsx)("span",{ref:o,onClick:function(){a((function(e){return!e}))},children:t&&t[i]})]}),s&&Object(d.jsx)("div",{className:"sort__popup",children:Object(d.jsx)("ul",{children:t.map((function(e,t){return Object(d.jsx)("li",{onClick:function(){r(t)},id:t,className:u()({active:+i===t}),children:e},t)}))})})]})},g=s.a.memo(O),x=function(e){var t,r=e.pizzas,i=e.defaultSizes,n=e.defaultTypes,c=e.sort,s=e.categories,a=e.currentCategoryId,o=e.setCategory,l=e.sortType,u=e.setSort,f=e.addPizza,p=e.cart;return r.length&&(t=r.map((function(e){var t=0;if((+e.category===+a||-1===+a)&&p.length){var r=p.find((function(t){if(t.id===e.id)return!0}));t=r&&r.count}return Object(d.jsx)(y,{id:e.id,category:e.category,name:e.name,img:e.imageUrl,price:e.price,rating:e.rating,sizes:e.sizes,defaultSizes:i,defaultTypes:n,types:e.types,addPizza:f,count:t},e.id)}))),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"content__top",children:[Object(d.jsx)(j,{currentCategoryId:a,items:s,setCategory:o}),Object(d.jsx)(g,{list:c,sortType:l,onClick:u})]}),Object(d.jsx)("h2",{className:"content__title",children:"\u0412\u0441\u0435 \u043f\u0438\u0446\u0446\u044b"}),Object(d.jsx)("div",{className:"content__items",children:t&&t.filter((function(e){if(e.props.category===a||-1===a)return!0})).sort((function(e,t){return function(e,t,r){switch(r){case 0:return e.rating-t.rating;case 1:return e.price-t.price;case 2:return t.price-e.price;default:throw Error("uncorret sort id"+r)}}(e.props,t.props,l)}))})]})},C={setPizzas:a.g,setCategory:a.f,setSort:a.h,addPizza:a.a};t.default=Object(o.b)((function(e){return{pizzas:e.home.pizzas,defaultSizes:e.home.defaultSizes,defaultTypes:e.home.defaultTypes,categories:e.home.categories,sort:e.home.sort,currentCategoryId:e.home.currentCategoryId,sortType:e.home.sortType,cart:e.home.cart}}),C)((function(e){var t=e.setPizzas,r=Object(n.a)(e,["setPizzas"]);return Object(c.useEffect)((function(){t()}),[t]),Object(d.jsx)(x,Object(i.a)({},r))}))}}]);
//# sourceMappingURL=3.b0c62c98.chunk.js.map